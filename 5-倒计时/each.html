
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>转盘效果</title>
<meta name="description" content="jquery倒计时插件设置多个自定义倒计时时间，任意设置天、小时、分钟、秒倒计时间功能。jQuery下载。" />
<script type="text/javascript" src="js/jquery-1.4.2.min.js"></script>
<!-- 
<script type="text/javascript" src="js/shark_cycle.js"></script>
-->
<link href="css/shark_cycle.css" rel="stylesheet" type="text/css" />
<script type="text/javascript">
$(function(){
	var time_spend= 5;//计算转盘花费的时间4秒，从而计算转盘速度
	var time_observe= 6 //观察时长 后期由服务器取得
	var time_bet= 7;//下注时长 后期由服务器取得
	var time_display= 3;//展示时长 后期由服务器取得
	var time_wait= 2;//等待时长 后期由服务器取得
	var time_cycle= (time_spend+time_observe+ time_bet+ time_display+ time_wait);//一个周期时长 后期由服务器取得,展示-等待-观察-下注-转盘
	var circle_num= 2;//转盘圈数 后期由服务器取得
	var circle_speed= (28*80*circle_num)/time_spend;//计算转盘速度,28个跳格，setInterval()频率80毫秒
	dialAnimation(time_spend);
});
//转盘动画效果
function dialAnimation(timeCircle){
	var hor = $(".gdial-top > div");//找到所有div元素，并且这些元素都必须是.gdial-top元素的子元素。
	var rig = $(".gdial-right > div");
	var bottom = $(".gdial-bottom > div");
	var left = $(".gdial-left > div");
	
	var timer = null, index = 0;
	
	var allList = [];
	
	var timerDialTime = null;//用作控制转盘时长
	timerDialTime = setInterval(function(){//timeCircle时长
		if(timeCircle > 0){
			timeCircle -= 1;
		}else{
			clearInterval(timerDialTime);
		}
	}, 1000);
	
	$.each(hor, function(i, item){
		allList.push(item);
	});
	$.each(rig, function(i, item){
		allList.push(item);
	});
	var blen = bottom.length;
	$.each(bottom, function(i, item){
		allList.push(bottom[blen - 1 - i]);
	});
	var llen = left.length;
	$.each(left, function(i, item){
		allList.push(left[llen - 1 - i]);
	});
	//alert("查看数组allList[9]： " + allList[9]);
	timer = setInterval(function(){
		if(timeCircle != 0){//只有在转盘时间才有转盘效果
			$(allList[index++]).removeClass("alpha");
			if (index === allList.length) {
				index = 0;
			}
			$(allList[index]).addClass("alpha");
		} else {
			clearInterval(timer);
		}
	}, 80);
}
</script>
</head>

<body>
<div class="gdial"><!---->
 <div class="gdial-top">
	<div class="gdial-top1"><img width="75" height="60" /></div>
	<div class="gdial-top2"><img width="75" height="60" /></div>
	<div class="gdial-top3"><img width="75" height="60" /></div>
	<div class="gdial-top4"><img width="75" height="60" /></div>
	<div class="gdial-top5"><img width="75" height="60" /></div>
	<div class="gdial-top6"><img width="75" height="60" /></div>
	<div class="gdial-top7"><img width="75" height="60" /></div>
	<div class="gdial-top8"><img width="75" height="60" /></div>
	<div class="gdial-top9"><img width="75" height="60" /></div>
 </div>
 <div class="gdial-left">
	<div class="gdial-left1"><img width="75" height="60" /></div>
	<div class="gdial-left2"><img width="75" height="60" /></div>
	<div class="gdial-left3"><img width="75" height="60" /></div>
	<div class="gdial-left4"><img width="75" height="60" /></div>
	<div class="gdial-left5"><img width="75" height="60" /></div>
 </div>
 <!-- 中间展示区 -->
 <div class="gdial-display">
	<div id="canvas-background-color" style="float: left" >
		<!-- <canvas id="playground" width="537" height="308"></canvas> -->
		<div class="colockbox" id="demo04">
			<span class="second">-</span>
		</div>
		<!-- 奖项动画展示 -->
		<div class="box" id="demo1">
			<span>-</span>
		</div>
	</div> 
 </div>
 <div class="gdial-right">
	<div class="gdial-right1"><img width="75" height="60" /></div>
	<div class="gdial-right2"><img width="75" height="60" /></div>
	<div class="gdial-right3"><img width="75" height="60" /></div>
	<div class="gdial-right4"><img width="75" height="60" /></div>
	<div class="gdial-right5"><img width="75" height="60" /></div>
 </div> 
 <div class="gdial-bottom">
	<div class="gdial-bottom1"><img width="75" height="60" /></div>
	<div class="gdial-bottom2"><img width="75" height="60" /></div>
	<div class="gdial-bottom3"><img width="75" height="60" /></div>
	<div class="gdial-bottom4"><img width="75" height="60" /></div>
	<div class="gdial-bottom5"><img width="75" height="60" /></div>
	<div class="gdial-bottom6"><img width="75" height="60" /></div>
	<div class="gdial-bottom7"><img width="75" height="60" /></div>
	<div class="gdial-bottom8"><img width="75" height="60" /></div>
	<div class="gdial-bottom9"><img width="75" height="60" /></div>
 </div>
</div>
</body>
</html>
